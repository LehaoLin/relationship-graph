<html>

<head>
  <meta charset="UTF-8">
  <title>relationship graph</title>
  <style>
    body {
      margin-top: 3em;
      background: #eee;
      color: #555;
      font-family: "Open Sans", "Segoe UI", Helvetica, Arial, sans-serif;
    }

    p,
    p a {
      font-value: 12px;
      text-align: center;
      color: #888;
    }
  </style>
  <script src="js/echarts-all-2.2.7.js"></script>
  <script src="js/drawl.js"></script>
</head>

<body>
  <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
  <div style="padding:20px;width:100%;height:100%;">
    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
    <div id="main" style="width: 1104px;height:464px;">
    </div>
  </div>
  <!-- 进行ajax发送并接收数据,最后根据接收的数据完成可视化工作 -->
  <script>
    var myChart = echarts.init(document.getElementById('main'), 'macarons');
    //创建Nodes
    nodes = [{'name': '曹国昌', 'category': 0, 'value': 10}, {'name': '夏晔', 'category': 2, 'value': 1}, {'name': '林墉', 'category': 2, 'value': 1}, {'name': '邹达清', 'category': 2, 'value': 1}, {'name': '刘海志', 'category': 2, 'value': 1}, {'name': '李金明', 'category': 2, 'value': 1}, {'name': '苏华', 'category': 2, 'value': 1}, {'name': '刘政德', 'category': 2, 'value': 1}, {'name': '郑觐', 'category': 2, 'value': 1}, {'name': '关伟显', 'category': 2, 'value': 1}, {'name': '潘鹤', 'category': 2, 'value': 1}, {'name': '尹定邦', 'category': 4, 'value': 1}, {'name': '曹崇恩', 'category': 2, 'value': 1}, {'name': '全森', 'category': 4, 'value': 1}, {'name': '彭征', 'category': 2, 'value': 1}, {'name': '曹晶', 'category': 1, 'value': 1}, {'name': '齐喆', 'category': 2, 'value': 1}, {'name': '胡钜湛', 'category': 2, 'value': 1}]
 
      //创建links
      links  = [{'source': '夏晔', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '林墉', 'target': '曹国昌', 'weight': 1, 'name': '附中同学'}, {'source': '邹达清', 'target': '曹国昌', 'weight': 1, 'name': '附中同学'}, {'source': '刘海志', 'target': '曹国昌', 'weight': 1, 'name': '附中同学'}, {'source': '李金明', 'target': '曹国昌', 'weight': 1, 'name': '附中同学'}, {'source': '苏华', 'target': '曹国昌', 'weight': 1, 'name': '附中同学'}, {'source': '刘政德', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '郑觐', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '关伟显', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '潘鹤', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '尹定邦', 'target': '曹国昌', 'weight': 1, 'name': '同事'}, {'source': '蔡克振', 'target': '曹国昌', 'weight': 1, 'name': '被推荐人'}, {'source': '曹崇恩', 'target': '曹国昌', 'weight': 1, 'name': '学生'}, {'source': '全森', 'target': '曹国昌', 'weight': 1, 'name': '同事'}, {'source': '彭征', 'target': '曹国昌', 'weight': 1, 'name': '老师'}, {'source': '曹晶', 'target': '曹国昌', 'weight': 1, 'name': '父亲'}, {'source': '齐喆', 'target': '曹国昌', 'weight': 1, 'name': '老师'}, {'source': '胡钜湛', 'target': '曹国昌', 'weight': 1, 'name': '学生'}]

    //categoryArray = [{ name: "核心人物" }, { name: "家人" }, { name: "朋友" }]
    categoryArray = [{ "name": "核心人物" }, { "name": "家人" }, { "name": "学校" }, { "name": "朋友" }, { "name": "同事" }]
    jsondata = { "categories": categoryArray, "nodes": nodes, "links": links }
    console.log(jsondata)
    //数据格式为Json格式
    createGraph(myChart, jsondata)
  </script>
</body>

</html>